[id="operations-8_{context}"]
= Operations

.Iteration Start
[]
Request (0x31):

[table,tablepcwidth="100",rowcount="8",header-option="",colcount="3",cols="3,^2,10"]
|===
| Segments size | signed vInt | same as protocol version 2.3.
| Segments | byte array | same as protocol version 2.3.
| FilterConverter size | signed vInt | same as protocol version 2.3.
| FilterConverter | UTF-8 byte array | same as protocol version 2.3.
| Parameters size | byte | the number of params of the filter. Only present when FilterConverter is provided.
| Parameters | byte[][] | an array of parameters, each parameter is a byte array. Only present if Parameters size is greater than 0.
| BatchSize | vInt | same as protocol version 2.3.
|===

The Iteration Next operation can optionally return projections in the value,
meaning more than one value is contained in the same entry.

.Iteration Next
[]
Response (0x34):

[table,tablepcwidth="100",rowcount="18",header-option="",colcount="3",cols="3,^2,10"]
|===
| Finished segments size | vInt | same as protocol version 2.3.
| Finished segments | byte array | same as protocol version 2.3.
| Entry count | vInt | same as protocol version 2.3.
| Number of value projections | vInt | Number of projections for the values. If 1, behaves like version protocol version 2.3.
| Key1 Length | vInt | same as protocol version 2.3.
| Key1 | byte array | same as protocol version 2.3.
| Value1 projection1 length | vInt | length of value1 first projection
| Value1 projection1 | byte array | retrieved value1 first projection
| Value1 projection2 length | vInt | length of value2 second projection
| Value1 projection2 | byte array | retrieved value2 second projection
| ... continues until all projections for the value retrieved | Key2 Length | vInt
| same as protocol version 2.3. | Key2 | byte array
| same as protocol version 2.3. | Value2 projection1 length | vInt
| length of value 2 first projection | Value2 projection1 | byte array
| retrieved value 2 first projection | Value2 projection2 length | vInt
| length of value 2 second projection | Value2 projection2 | byte array
| retrieved value 2 second projection | ... continues until entry count is reached | 
|===

[arabic]
. Stats:

Statistics returned by previous Hot Rod protocol versions were local to the node
where the Hot Rod operation had been called. Starting with 2.4, new statistics
have been added which provide global counts for the statistics returned
previously. If the Hot Rod is running in local mode, these statistics are not
returned:

[table,tablepcwidth="100",rowcount="8",header-option="",colcount="2"]
|===
| globalCurrentNumberOfEntries | Number of entries currently across the Hot Rod cluster.
| globalStores | Total number of put operations across the Hot Rod cluster.
| globalRetrievals | Total number of get operations across the Hot Rod cluster.
| globalHits | Total number of get hits across the Hot Rod cluster.
| globalMisses | Total number of get misses across the Hot Rod cluster.
| globalRemoveHits | Total number of removal hits across the Hot Rod cluster.
| globalRemoveMisses | Total number of removal misses across the Hot Rod cluster.
|===